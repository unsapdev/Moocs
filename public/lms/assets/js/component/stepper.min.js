"use strict";const stepperStepButton=document.querySelectorAll(".stepper-step-btn"),prevStepButton=document.querySelector(".prev-step-btn"),nextStepButton=document.querySelector(".next-step-btn"),stepperMenu=document.querySelector(".stepper-menu"),fieldsets=document.querySelectorAll(".fieldset");let scrollLeftValue,isDragging=!1;const prevFormButton=document.querySelectorAll(".prev-form-btn"),nextFormButton=document.querySelectorAll(".next-form-btn");let current_fieldset,next_fieldset,previous_fieldset;function buttonActivation(){scrollLeftValue=Math.ceil(stepperMenu?.scrollLeft);let e=stepperMenu?.scrollWidth-stepperMenu?.clientWidth;prevStepButton&&(prevStepButton.style.display=e>scrollLeftValue?"block":"none"),nextStepButton&&(nextStepButton.style.display=e>scrollLeftValue?"block":"none"),prevStepButton&&(prevStepButton.style.display=scrollLeftValue>0?"block":"none")}function stepActivation(e){stepperStepButton.forEach(e=>{e.classList.remove("active")}),fieldsets.forEach(e=>{e.classList.remove("!block")}),stepperStepButton[e]?.classList.add("active"),fieldsets[e].classList.add("!block")}function nextFieldSet(e,t,s,n){s&&(e[Array.from(t).indexOf(s)].classList.add("active"),n.classList.remove("!block"),s.classList.add("!block"))}nextFormButton.forEach(e=>{e.addEventListener("click",function(){next_fieldset=(current_fieldset=this.closest(".fieldset")).nextElementSibling;let e=$(this).closest("form"),t=e.data("key"),s=new FormData(e[0]);s.append("form_key",t);let n=e.find("input[name=hidden-skills").val();void 0!==n&&s.append("skills",n);let l=e.attr("action");$.ajax({url:l,method:"POST",data:s,dataType:"json",cache:!1,contentType:!1,processData:!1,success:function(e){if("error"==e.status){if(logErrorMsg(e.data),e.data?.course_id)Command:toastr.error(`${e.data.course_id}`)}else if("success"==e.status){if($('input[name="hidden-skills"]').val(""),$(".courseId").val(e.course_id),e.hasOwnProperty("message"))Command:toastr.success(`${e.message}`);e.hasOwnProperty("url")&&location.replace(`${e.url}`),"pricing"==e.key&&$("#pricingId").val(e.price_id),nextFieldSet(stepperStepButton,fieldsets,next_fieldset,current_fieldset)}}})})}),prevFormButton.forEach(e=>{e.addEventListener("click",function(){nextFieldSet(stepperStepButton,fieldsets,previous_fieldset=(current_fieldset=this.closest(".fieldset")).previousElementSibling,current_fieldset)})}),nextStepButton?.addEventListener("click",()=>{stepperMenu.scrollLeft+=200,buttonActivation()}),prevStepButton?.addEventListener("click",()=>{stepperMenu.scrollLeft-=200,buttonActivation()}),stepperStepButton.forEach((e,t)=>{e.addEventListener("click",()=>{stepActivation(t)})}),stepperMenu?.addEventListener("mousemove",e=>{isDragging&&stepperMenu&&(stepperMenu.scrollLeft-=e.movementX,stepperMenu.classList.add("dragging"))}),document.addEventListener("mouseup",()=>{isDragging=!1,stepperMenu?.classList.remove("dragging")}),stepperMenu?.addEventListener("mousedown",()=>{isDragging=!0}),window.onload=function(){buttonActivation(),prevStepButton&&(prevStepButton.style.display=scrollLeftValue>0?"block":"none")},window.onresize=function(){buttonActivation(),prevStepButton&&(prevStepButton.style.display=scrollLeftValue>0?"block":"none")};